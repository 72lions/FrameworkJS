var FrameworkJS={_models:{},_views:{},_controllers:{},_types:{},extend:function(c,b,a){if(typeof c!=="undefined"){if(typeof c.prototype!=="undefined"){if(typeof b==="function"){c.prototype=new b();if(typeof FrameworkJS._types[a]==="undefined"){FrameworkJS._types[a]=c}else{}return c}else{return null}}else{return null}}else{return null}},retrieve:function(a,b,f){if(f===FrameworkJS.CONTROLLER){var e,a,d,k;var h=-1;e=b||"Generic.Controller";a=a||("_id_"+Math.floor(Math.random()*10000).toString());if(!FrameworkJS._controllers[a]||!FrameworkJS.Utils.isArray(FrameworkJS._controllers[a])){FrameworkJS._controllers[a]=[]}for(var c=FrameworkJS._controllers[a].length-1;c>=0;c--){if(FrameworkJS._controllers[a][c].id==a){h=c;break}}if(h===-1){if(FrameworkJS._types[e]!==undefined){k={id:a,classType:new FrameworkJS._types[e]()}}else{k={id:a,classType:new FrameworkJS.Controller()}}FrameworkJS._controllers[a].push(k);k.classType.id=a;return k.classType}else{return FrameworkJS._controllers[a][h].classType}}else{if(f===FrameworkJS.VIEW){var j,a,e;var h=-1;e=b||"Generic.View";a=a||("_id_"+Math.floor(Math.random()*10000).toString());if(!FrameworkJS._views[e]||!FrameworkJS.Utils.isArray(FrameworkJS._views[e])){FrameworkJS._views[e]=[]}for(var c=FrameworkJS._views[e].length-1;c>=0;c--){if(FrameworkJS._views[e][c].id==a){h=c}}if(h===-1){h=null;if(FrameworkJS._types[e]!==undefined){j={id:a,classType:new FrameworkJS._types[e]()}}else{j={id:a,classType:new FrameworkJS.View()}}FrameworkJS._views[e].push(j);j.classType.id=a;return j.classType}else{return FrameworkJS._views[e][h].classType}}else{if(f===FrameworkJS.MODEL){var h=-1,g,e;e=b||"Generic.Model";a=a||("_id_"+Math.floor(Math.random()*10000).toString());if(!FrameworkJS._models[e]||!FrameworkJS.Utils.isArray(FrameworkJS._models[e])){FrameworkJS._models[e]=[]}for(var c=FrameworkJS._models[e].length-1;c>=0;c--){if(FrameworkJS._models[e][c].id==a){h=c}}if(h===-1){h=null;if(FrameworkJS._types[e]!==undefined){g={id:a,classType:new FrameworkJS._types[e]()}}else{g={id:a,classType:new FrameworkJS.Model()}}FrameworkJS._models[e].push(g);g.classType.id=a;return g.classType}else{return FrameworkJS._models[e][h].classType}}else{return null}}}},CONTROLLER:"controller",VIEW:"view",MODEL:"model"};FrameworkJS.Publisher=function(b){var a={};this.subscribe=function(d,c){if(typeof a[d]==="undefined"){a[d]=[]}if(a[d].indexOf(c)===-1){a[d].push(c)}};this.unsubscribe=function(e,d){var c;if(typeof a[e]!=="undefined"){c=a[e].indexOf(d);if(c!==-1){a[e].splice(c,1)}}};this.notify=function(e,c){subscribers=a[e];if(typeof subscribers!=="undefined"){for(var d=0;d<subscribers.length;d++){if(typeof subscribers[d].onNotify!=="undefined"){subscribers[d].onNotify.call(subscribers[d],{message:e,params:c})}}}};return this}(window);FrameworkJS.Utils={isArray:function(a){var b=typeof a;if(b==="object"){if(a){if(a instanceof Array){b=true}else{b=false}}else{b=false}}else{b=false}return b}};FrameworkJS.EventTarget=function(){var a={};this.addEventListener=function(c,d,b){var e={callback:d,context:b};if(a[c]===undefined){a[c]=[]}if(a[c].indexOf(e)===-1){a[c].push(e)}};this.dispatchEvent=function(d){var c=a[d.type];if(typeof c!=="undefined"){for(var b=0;b<c.length;b++){c[b].callback.call(c[b].context,d)}}};this.removeEventListener=function(f,g,b){var c;var e=a[f];if(typeof e!=="undefined"){for(var d=0;d<e.length;d++){if(e[d].callback===g&&e[d].context===b){c=d;break}}if(c!==-1){a[f].splice(c,1)}}}};FrameworkJS.Controller=function(){FrameworkJS.EventTarget.call(this);this._view=undefined;this._model=undefined;this.id="";this.name="";this.initialize=function(a){if(typeof a!=="undefined"){this.id=a.id||""}this.postInitialize()};this.postInitialize=function(){};this.setView=function(a){this._view=a;this._view.setController(this)};this.getView=function(){return this._view};this.getModel=function(){return this._model};this.setModel=function(a){this._model=a};this.onNotify=function(a){};this.subscribe=function(a){FrameworkJS.Publisher.subscribe(a,this)
};this.unsubscribe=function(a){FrameworkJS.Publisher.unsubscribe(a,this)}};FrameworkJS.View=function(){FrameworkJS.EventTarget.call(this);this.name="";this.id="";this.title="";this._controller=undefined;this.domElement=null;this.show=function(){};this.hide=function(){};this.setName=function(a){this.name=a};this.setId=function(a){this.id=a};this.getModel=function(){if(this._controller){return this._controller.getModel()}return undefined};this.setController=function(a){this._controller=a};this.getController=function(){return this._controller};this.getDOMElement=function(){return this.domElement};this.initialize=function(a){if(typeof a!=="undefined"){this.setId(a.id)}}};FrameworkJS.Model=function(){this.data={};this.name="";this.id="";this.set=function(a,b){this.data[a]=b};this.get=function(a){return this.data[a]}};